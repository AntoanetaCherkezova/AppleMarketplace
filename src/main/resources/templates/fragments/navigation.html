<nav th:fragment="navigation" id="nav-bar-scroll">
    <th:block sec:authorize="isAuthenticated()">
        <a th:href="@{/home}">
            <img src="https://res.cloudinary.com/dwgx3lz5l/image/upload/v1722579971/apple-logo_vrwcsz.png"
                 class="logo" alt="logo">
        </a>
    </th:block>
    <th:block sec:authorize="isAnonymous()">
        <a th:href="@{/}">
            <img src="https://res.cloudinary.com/dwgx3lz5l/image/upload/v1722579971/apple-logo_vrwcsz.png"
                 class="logo" alt="logo">
        </a>
    </th:block>
    <div class="menu">
        <th:block sec:authorize="isAuthenticated()">
            <a th:href="@{/home}" th:text="#{nav.home}">Home</a>
        </th:block>
        <th:block sec:authorize="isAnonymous()">
            <a th:href="@{/}" th:text="#{nav.home}">Home</a>
        </th:block>
        <a th:href="@{/about-us}" th:text="#{nav.about}">About</a>
        <th:block sec:authorize="isAuthenticated()">
            <div class="dropdown">
                <a href="#"  class=" dropbtn"><span th:text="#{nav.add}"></span><i class="fas fa-caret-down"></i></a>
                <div class="dropdown-content">
                    <a th:href="@{/iPhones/add-iPhone}" th:text="#{nav.iPhone}">iPhone</a>
                    <a th:href="@{/macBooks/add-macBook}" th:text="#{nav.macBook}">MacBook</a>
                    <a th:href="@{/watches/add-watch}" th:text="#{nav.watch}">Watch</a>
                </div>
            </div>
            <th:block sec:authorize="hasRole('ADMIN')">
                <a th:href="@{/control-center}" th:text="#{nav.controlCenter}">Control center</a>
            </th:block>
        </th:block>
        <a th:href="@{/contact-us}" th:text="#{nav.contact}">Contact</a>
        <th:block sec:authorize="!isAuthenticated()">
                <a th:href="@{/user/register}" th:text="#{nav.register}">Register</a>
                <a th:href="@{/user/login}" th:text="#{nav.login}">Login</a>
        </th:block>

        <th:block sec:authorize="isAuthenticated()">
            <div class="auth-links">
                <a th:href="@{/user/profile}"><i class="fa-solid fa-user"></i></a>
                <a th:href="@{/user/my-devices}"><i class="fa-solid fa-list"></i></a>
                <form method="POST" th:action="@{/user/logout}" >
                    <button type="submit" th:text="#{nav.logout}">Logout</button>
                </form>
            </div>
        </th:block>
    </div>

    <div class="flags">
        <a><img src="/images/flag-uk.png" alt="English" onclick="changeLanguage('en')"></a>
        <a><img src="/images/flag-bg.png" alt="Bulgarian" onclick="changeLanguage('bg')"></a>
    </div>
</nav>
