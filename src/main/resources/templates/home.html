<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <link th:include="~{fragments/head :: head}">
    <link rel="stylesheet" href="/css/home.css">
</head>

<body>
<div>
    <nav th:replace="~{fragments/navigation}"></nav>
</div>

<section class="featured-section">
    <img src="https://res.cloudinary.com/dwgx3lz5l/image/upload/v1722579979/premium-device_hx4ffd.jpg"
         alt="Apple Products" class="featured-image">
    <div class="overlay">
        <h1>Explore <span>Apple</span> Products</h1>
    </div>
</section>

<th:block th:if="${availableIPhones || availableMacBooks || availableWatches}">
    <section class="categories">
        <div class="category">
            <a th:href="@{/devices/iPhones}">
                <img src="https://res.cloudinary.com/dwgx3lz5l/image/upload/v1722579978/iphone_rmaokx.png" alt="iPhone">
                <h3>iPhone</h3>
            </a>
        </div>
        <div class="category">
            <a th:href="@{/devices/macBooks}">
                <img src="https://res.cloudinary.com/dwgx3lz5l/image/upload/v1722784531/macbookair-og-202402_rczcgw.jpg"
                     alt="MacBook">
                <h3>MacBook</h3>
            </a>
        </div>
        <div class="category">
            <a th:href="@{/devices/watches}">
                <img src="https://res.cloudinary.com/dwgx3lz5l/image/upload/v1722579979/watch_vfbygi.jpg" alt="Watch">
                <h3>Watch</h3>
            </a>
        </div>
        <div class="allCategories">
            <a th:href="@{/devices/all}">
                <img src="https://res.cloudinary.com/dwgx3lz5l/image/upload/v1722784726/1669187309881_ylvins.jpg"
                     alt="All Products">
                <h3>All Products</h3>
            </a>
        </div>
    </section>
</th:block>

<th:block th:unless="${availableIPhones || availableMacBooks || availableWatches}">
    <section class="no-products">
        <h2>No Devices Available</h2>
        <p>Currently, there are no devices available. Please add new devices to continue.</p>
    </section>
</th:block>

<th:block th:if="${availableIPhones && availableMacBooks && availableWatches}">
    <section class="latest-arrivals">
        <h2>The Latest Model Device</h2>
        <h6>Experience luxury and advanced technology with our premium Apple products.
            Designed for those who want the best.</h6>
        <div class="arrival-item">
            <img th:src="@{${latestModelIphoneView.photosUrls.get(0)}}" alt="New iPhone 15">
            <div class="arrival-info">
                <div class="iPhone">
                    <h3 th:text="'New ' + ${latestModelIphoneView.model}">New iPhone 15</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"
                            th:text="'Operating System: ' +${latestModelIphoneView.getOperatingSystem()}">iOS
                        </li>
                        <li class="list-group-item"
                            th:text="'Date of purchase: ' + ${latestModelIphoneView.getDateOfPurchase().toLocalDate()}">Release
                            Date
                        </li>
                        <li class="list-group-item" th:text="'Price: ' + ${latestModelIphoneView.price} + ' BGN'">
                            Price
                        </li>
                    </ul>
                    <a th:href="'/devices/device-profile/iPhone/' + ${latestModelIphoneView.id}" class="btn">Read More</a>
                </div>
            </div>
        </div>
        <div class="arrival-item">
            <img th:src="@{${latestModelMacBookView.photosUrls.get(0)}}" alt="New MacBook">
            <div class="arrival-info">
                <div class="macBook">
                    <h3 th:text="'New ' + ${latestModelMacBookView.model}">New MacBook</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"
                            th:text="'Operating System: ' +${latestModelMacBookView.getOperatingSystem()}">iOS
                        </li>
                        <li class="list-group-item"
                            th:text="'Date of purchase: ' + ${latestModelMacBookView.getDateOfPurchase().toLocalDate()}">Release
                            Date
                        </li>
                        <li class="list-group-item" th:text="'Price: ' + ${latestModelMacBookView.price} + ' BGN'">
                            Price
                        </li>
                    </ul>
                    <a th:href="'/devices/device-profile/macBook/' + ${latestModelMacBookView.id}" class="btn">Read More</a>
                </div>
            </div>
        </div>
        <div class="arrival-item">
            <img th:src="@{${latestModelWatchView.photosUrls.get(0)}}" alt="New Watch">
            <div class="arrival-info">
                <div class="watch">
                    <h3 th:text="'New ' + ${latestModelWatchView.model}">New Watch</h3>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item"
                            th:text="'Operating System: ' +${latestModelWatchView.getOperatingSystem()}">iOS
                        </li>
                        <li class="list-group-item"
                            th:text="'Date of purchase: ' + ${latestModelWatchView.getDateOfPurchase().toLocalDate()}">Release
                            Date
                        </li>
                        <li class="list-group-item" th:text="'Price: ' + ${latestModelWatchView.price} + ' BGN'">Price
                        </li>
                    </ul>
                    <a th:href="'/devices/device-profile/watch/' + ${latestModelWatchView.id}" class="btn">Read More</a>
                </div>
            </div>
        </div>

    </section>
</th:block>
<th:block th:if="${availableIPhones}">
    <section class="highlighted-products">
        <div class="product-highlight">
            <h2>Available Models iPhone With Largest Memory </h2>
        </div>
        <div class="iPhone">
            <img th:src="@{${iPhoneWithLargestMemoryView.photosUrls.get(0)}}" alt="Iphone With Largest Memory">
            <ul class="list-group list-group-flush">
                <li th:text="'Model: ' + ${iPhoneWithLargestMemoryView.getModel()}">Model</li>
                <li th:text="'Storage: ' + ${iPhoneWithLargestMemoryView.getInternalMemory()}">Price</li>
            </ul>
        </div>
        <div>
            <p></p>
            <a th:href="@{/devices/iPhones}" class="explore-button">Explore</a>
        </div>
    </section>
</th:block>

<th:block th:if="${availableIPhones || availableMacBooks || availableWatches}">
    <section class="highlighted-products">
        <div class="product-highlight">
            <h2>Devices With Longest Warranty</h2>
        </div>
        <div class="row mx-auto justify-content-center">
            <div class="card mt-4 mx-3" th:each="device : ${deviceWithTheLongestWarranty}">
                <img th:src="${device.getPhotosUrls().get(0)}" class="card-img-top" alt="...">
                <div class="card-body text-center">
                    <h5 class="card-title" th:text="${device.model}"></h5>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item" th:text="'Date of purchase: ' + ${device.dateOfPurchase}">
                        Date of register:
                    </li>
                    <li class="list-group-item" th:text="'Warranty: ' + ${device.warranty} + ' month'">Warranty:</li>
                    <li class="list-group-item" th:text="'Price: ' + ${device.price} + ' BGN'">Price:</li>
                </ul>
                <div class="card-body">
                    <a th:href="'/devices/device-profile/' + ${device.type} + '/' + ${device.id}" class="card-link">Read
                        More</a>
                </div>
            </div>
        </div>
    </section>
</th:block>

<footer th:replace="~{fragments/footer}"></footer>
</body>
</html>
